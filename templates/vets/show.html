{% extends 'base.html' %}

{% block content %}

<h1 class="page-title">Vet</h1>
 
<div class="item-card-container">
  <div class="item-card-individual">
  <p class="vet"><span class="bold">Name: </span>{{vet.full_name}}</p>
  <div class="link-container">
  <div class="button-container">
    <div>
        <form action="/vets/{{vet.id}}/edit" method="GET">
          <button>Edit</button>
        </form>
      </div>


    <div>
        <form action="/vets/{{vet.id}}/delete" method="POST">
          <button class="delete">Delete</button>
        </form>
      </div>
    </div>
    </div>
  </div>
</div>

<h2 class="sub-heading">Animals: {{animals_length}}</h2>
  <div class="items-container">
    
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>D.o.B</th>
            <th>Type</th>
           
          </tr>
        </thead>
      {% for animal in animals %}
      
      
      <tr>
        <td> <a href="/animals/{{animal.id}}">{{animal.name}}</a></td>
        <td>{{animal.date_of_birth}}</td>
        <td>{{animal.type}}</td>
      </tr>

      
      {% endfor %}
    </table>
</div>

   
<h2 class="sub-heading">Upcoming Appointments:</h2>
<div class="items-container">
    
  <table>
    <thead>
      <tr>
        <th>Date</th>
        <th>Time</th>
        <th>Pet Name</th>
        <th>Owner</th>
        <th>Reason</th>
        <th>Treatment</th>
        <th>Notes</th>
      </tr>
    </thead>
    {% for appointment in appointments %}
      {% if appointment.appointment_date > today_date %}
    <tr>
      {% if appointment.appointment_date == today_date %}
       <td> <a href="/appointments/{{appointment.id}}">Today</a></td>
      {% else %} 
      <td> <a href="/appointments/{{appointment.id}}">{{appointment.appointment_date}}</a></td>
      {% endif %}
      <td>{{appointment.appointment_time}}</td>
      <td><a href="/animals/{{appointment.animal.id}}">{{appointment.animal.name}}</a></td>
      <td>{{appointment.animal.owner.full_name}}</td>
      <td>{{appointment.reason}}</td>
      <td>{{appointment.treatment.description}}</td>
      <td>{{appointment.notes}}</td>

    </tr>
      {% endif %}
    {% endfor %}
  </table>

</div>





{% endblock %}